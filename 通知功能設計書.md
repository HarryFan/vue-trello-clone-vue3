# 通知功能設計書 (Notification Design)

🎯 目的
設計簡單有效的通知機制，讓 Trello Clone 前端應用程式可以透過 Notification API 發出到期提醒。

📋 本次專案定義
本專案為內部練習專案，預算及資源有限。

僅實作「前端費時循環（Polling）」方式。

暫不導入複雜的後端推播機制。

🛠️ 通知框架概要
1. 前端設計
  - 透過定時器，每隔固定秒數（如 30 秒）呼叫後端 API。
  - 分析回傳資料，找出即將到期的任務（依 deadline 欄位判斷）。
  - 利用 Notification API 直接推播到使用者裝置。
  - 需考量使用者權限授權 Notification API（如第一次使用需請求權限）。

2. 後端設計
  - 提供一個 API：/api/notifications/upcoming
  - 根據使用者身份，回傳「即將到期」的任務資料。
  - 回傳資料格式：
    ```json
    {
      "success": true,
      "data": [
        {
          "id": 1001,
          "title": "寫 API 規格",
          "deadline": "2025-04-30T23:59:59"
        }
      ]
    }
    ```
  - 篩選條件：以系統時間為基準，取出未來 X 分鐘內（如 10 分鐘）即將到期的任務。
  - 無需額外推播服務，由前端定期自行拉取。

🔮 未來展望（若商業化時）
若專案規模擴大或有商業化需求，建議採用更專業的通知機制：

- 導入 Firebase Cloud Messaging (FCM) 等推播服務
- 後端主動發送通知，實現即時性通知
- 管理裝置 Token、訊息隊列等
- 支援 Web Push、Mobile Push 等多端同步

📌 編說
本設計以「最小可行產品 (MVP)」為優先目標。

適合小型、低成本、快速開發。

若日後升級，需重新規劃通知系統架構。
